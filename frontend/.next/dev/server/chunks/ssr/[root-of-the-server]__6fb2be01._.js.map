{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/sanjananukala/Downloads/pearlhacks26/emergency-response-hack/frontend/src/lib/supabase.ts"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\n\nexport const supabase = createClient(\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n);\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,WAAW,IAAA,wQAAY"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///Users/sanjananukala/Downloads/pearlhacks26/emergency-response-hack/frontend/src/lib/api.ts"],"sourcesContent":["import { supabase } from \"./supabase\";\n\nconst API = process.env.NEXT_PUBLIC_API_BASE || \"http://localhost:8000\";\n\nasync function authHeaders(): Promise<Record<string, string>> {\n  const {\n    data: { session },\n  } = await supabase.auth.getSession();\n  if (!session) return {};\n  return { Authorization: `Bearer ${session.access_token}` };\n}\n\nasync function apiFetch(path: string, opts: RequestInit = {}) {\n  const headers = {\n    \"Content-Type\": \"application/json\",\n    ...(await authHeaders()),\n    ...(opts.headers || {}),\n  };\n  const res = await fetch(`${API}${path}`, { ...opts, headers });\n  if (!res.ok) {\n    const text = await res.text();\n    throw new Error(`API ${res.status}: ${text}`);\n  }\n  return res.json();\n}\n\nexport const api = {\n  getMe: () => apiFetch(\"/me\"),\n  updateThreshold: (t: number) =>\n    apiFetch(\"/me/threshold\", {\n      method: \"PUT\",\n      body: JSON.stringify({ default_threshold: t }),\n    }),\n  getReports: () => apiFetch(\"/reports\"),\n  createReport: (data: {\n    type: string;\n    title: string;\n    description: string;\n    lat: number;\n    lng: number;\n    community_id?: string;\n  }) => apiFetch(\"/reports\", { method: \"POST\", body: JSON.stringify(data) }),\n  upvoteReport: (id: string) =>\n    apiFetch(`/reports/${id}/upvote`, { method: \"POST\" }),\n  getAlerts: () => apiFetch(\"/alerts\"),\n  getAnalytics: () => apiFetch(\"/admin/analytics\"),\n};\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,MAAM,6DAAoC;AAEhD,eAAe;IACb,MAAM,EACJ,MAAM,EAAE,OAAO,EAAE,EAClB,GAAG,MAAM,4MAAQ,CAAC,IAAI,CAAC,UAAU;IAClC,IAAI,CAAC,SAAS,OAAO,CAAC;IACtB,OAAO;QAAE,eAAe,CAAC,OAAO,EAAE,QAAQ,YAAY,EAAE;IAAC;AAC3D;AAEA,eAAe,SAAS,IAAY,EAAE,OAAoB,CAAC,CAAC;IAC1D,MAAM,UAAU;QACd,gBAAgB;QAChB,GAAI,MAAM,aAAa;QACvB,GAAI,KAAK,OAAO,IAAI,CAAC,CAAC;IACxB;IACA,MAAM,MAAM,MAAM,MAAM,GAAG,MAAM,MAAM,EAAE;QAAE,GAAG,IAAI;QAAE;IAAQ;IAC5D,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,IAAI,MAAM,CAAC,IAAI,EAAE,IAAI,MAAM,CAAC,EAAE,EAAE,MAAM;IAC9C;IACA,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,MAAM;IACjB,OAAO,IAAM,SAAS;IACtB,iBAAiB,CAAC,IAChB,SAAS,iBAAiB;YACxB,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;gBAAE,mBAAmB;YAAE;QAC9C;IACF,YAAY,IAAM,SAAS;IAC3B,cAAc,CAAC,OAOT,SAAS,YAAY;YAAE,QAAQ;YAAQ,MAAM,KAAK,SAAS,CAAC;QAAM;IACxE,cAAc,CAAC,KACb,SAAS,CAAC,SAAS,EAAE,GAAG,OAAO,CAAC,EAAE;YAAE,QAAQ;QAAO;IACrD,WAAW,IAAM,SAAS;IAC1B,cAAc,IAAM,SAAS;AAC/B"}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///Users/sanjananukala/Downloads/pearlhacks26/emergency-response-hack/frontend/src/components/AuthGate.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { supabase } from \"@/lib/supabase\";\nimport type { Session } from \"@supabase/supabase-js\";\n\nexport default function AuthGate({ children }: { children: React.ReactNode }) {\n  const [session, setSession] = useState<Session | null | undefined>(undefined);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isSignUp, setIsSignUp] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    supabase.auth.getSession().then(({ data }) => setSession(data.session));\n    const {\n      data: { subscription },\n    } = supabase.auth.onAuthStateChange((_e, s) => setSession(s));\n    return () => subscription.unsubscribe();\n  }, []);\n\n  if (session === undefined)\n    return <p style={{ textAlign: \"center\", marginTop: \"3rem\" }}>Loading‚Ä¶</p>;\n\n  if (session) return <>{children}</>;\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(\"\");\n    setLoading(true);\n    try {\n      if (isSignUp) {\n        const { error } = await supabase.auth.signUp({ email, password });\n        if (error) throw error;\n      } else {\n        const { error } = await supabase.auth.signInWithPassword({\n          email,\n          password,\n        });\n        if (error) throw error;\n      }\n    } catch (err: any) {\n      setError(err.message || \"Auth error\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div style={{ maxWidth: 380, margin: \"4rem auto\" }}>\n      <h2 style={{ fontSize: \"1.5rem\", fontWeight: 700, textAlign: \"center\" }}>\n        {isSignUp ? \"Create Account\" : \"Sign In\"}\n      </h2>\n      <form onSubmit={handleSubmit} style={{ marginTop: \"1rem\" }}>\n        <label>\n          Email\n          <input\n            type=\"email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            required\n          />\n        </label>\n        <label>\n          Password\n          <input\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            required\n            minLength={6}\n          />\n        </label>\n        {error && (\n          <p style={{ color: \"#ef4444\", marginTop: \"0.5rem\", fontSize: \"0.9rem\" }}>\n            {error}\n          </p>\n        )}\n        <button\n          type=\"submit\"\n          className=\"btn btn-primary\"\n          style={{ width: \"100%\", marginTop: \"1rem\", justifyContent: \"center\" }}\n          disabled={loading}\n        >\n          {loading ? \"‚Ä¶\" : isSignUp ? \"Sign Up\" : \"Sign In\"}\n        </button>\n      </form>\n      <p style={{ textAlign: \"center\", marginTop: \"1rem\", fontSize: \"0.9rem\" }}>\n        {isSignUp ? \"Already have an account?\" : \"No account?\"}{\" \"}\n        <button\n          onClick={() => {\n            setIsSignUp(!isSignUp);\n            setError(\"\");\n          }}\n          style={{ color: \"#4f46e5\", fontWeight: 600, background: \"none\", border: \"none\", cursor: \"pointer\" }}\n        >\n          {isSignUp ? \"Sign In\" : \"Sign Up\"}\n        </button>\n      </p>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAMe,SAAS,SAAS,EAAE,QAAQ,EAAiC;IAC1E,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,2RAAQ,EAA6B;IACnE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,2RAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,2RAAQ,EAAC;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,2RAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,2RAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,2RAAQ,EAAC;IAEvC,IAAA,4RAAS,EAAC;QACR,4MAAQ,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC,EAAE,IAAI,EAAE,GAAK,WAAW,KAAK,OAAO;QACrE,MAAM,EACJ,MAAM,EAAE,YAAY,EAAE,EACvB,GAAG,4MAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,IAAI,IAAM,WAAW;QAC1D,OAAO,IAAM,aAAa,WAAW;IACvC,GAAG,EAAE;IAEL,IAAI,YAAY,WACd,qBAAO,wTAAC;QAAE,OAAO;YAAE,WAAW;YAAU,WAAW;QAAO;kBAAG;;;;;;IAE/D,IAAI,SAAS,qBAAO;kBAAG;;IAEvB,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,SAAS;QACT,WAAW;QACX,IAAI;YACF,IAAI,UAAU;gBACZ,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,4MAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;oBAAE;oBAAO;gBAAS;gBAC/D,IAAI,OAAO,MAAM;YACnB,OAAO;gBACL,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,4MAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC;oBACvD;oBACA;gBACF;gBACA,IAAI,OAAO,MAAM;YACnB;QACF,EAAE,OAAO,KAAU;YACjB,SAAS,IAAI,OAAO,IAAI;QAC1B,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,wTAAC;QAAI,OAAO;YAAE,UAAU;YAAK,QAAQ;QAAY;;0BAC/C,wTAAC;gBAAG,OAAO;oBAAE,UAAU;oBAAU,YAAY;oBAAK,WAAW;gBAAS;0BACnE,WAAW,mBAAmB;;;;;;0BAEjC,wTAAC;gBAAK,UAAU;gBAAc,OAAO;oBAAE,WAAW;gBAAO;;kCACvD,wTAAC;;4BAAM;0CAEL,wTAAC;gCACC,MAAK;gCACL,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gCACxC,QAAQ;;;;;;;;;;;;kCAGZ,wTAAC;;4BAAM;0CAEL,wTAAC;gCACC,MAAK;gCACL,OAAO;gCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;gCAC3C,QAAQ;gCACR,WAAW;;;;;;;;;;;;oBAGd,uBACC,wTAAC;wBAAE,OAAO;4BAAE,OAAO;4BAAW,WAAW;4BAAU,UAAU;wBAAS;kCACnE;;;;;;kCAGL,wTAAC;wBACC,MAAK;wBACL,WAAU;wBACV,OAAO;4BAAE,OAAO;4BAAQ,WAAW;4BAAQ,gBAAgB;wBAAS;wBACpE,UAAU;kCAET,UAAU,MAAM,WAAW,YAAY;;;;;;;;;;;;0BAG5C,wTAAC;gBAAE,OAAO;oBAAE,WAAW;oBAAU,WAAW;oBAAQ,UAAU;gBAAS;;oBACpE,WAAW,6BAA6B;oBAAe;kCACxD,wTAAC;wBACC,SAAS;4BACP,YAAY,CAAC;4BACb,SAAS;wBACX;wBACA,OAAO;4BAAE,OAAO;4BAAW,YAAY;4BAAK,YAAY;4BAAQ,QAAQ;4BAAQ,QAAQ;wBAAU;kCAEjG,WAAW,YAAY;;;;;;;;;;;;;;;;;;AAKlC"}},
    {"offset": {"line": 275, "column": 0}, "map": {"version":3,"sources":["file:///Users/sanjananukala/Downloads/pearlhacks26/emergency-response-hack/frontend/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { supabase } from \"@/lib/supabase\";\nimport { api } from \"@/lib/api\";\nimport AuthGate from \"@/components/AuthGate\";\n\nexport default function HomePage() {\n  const [profile, setProfile] = useState<any>(null);\n\n  useEffect(() => {\n    api.getMe().then(setProfile).catch(() => {});\n  }, []);\n\n  return (\n    <AuthGate>\n      <div style={{ textAlign: \"center\", marginTop: \"2rem\" }}>\n        <h1 style={{ fontSize: \"2rem\", fontWeight: 700 }}>üö® Community Alerts</h1>\n        <p style={{ color: \"#6b7280\", marginTop: \"0.5rem\" }}>\n          Crowdsourced incident reporting with real-time alerts\n        </p>\n\n        {profile && (\n          <p style={{ marginTop: \"1rem\" }}>\n            Role: <strong>{profile.role}</strong> | Threshold:{\" \"}\n            <strong>{profile.default_threshold}</strong>\n          </p>\n        )}\n\n        <div\n          style={{\n            display: \"grid\",\n            gridTemplateColumns: \"1fr 1fr\",\n            gap: \"1rem\",\n            maxWidth: 500,\n            margin: \"2rem auto\",\n          }}\n        >\n          <a href=\"/map\" className=\"card btn-primary btn\" style={{ justifyContent: \"center\" }}>\n            üó∫Ô∏è Map\n          </a>\n          <a href=\"/alerts\" className=\"card btn-primary btn\" style={{ justifyContent: \"center\" }}>\n            üîî Alerts\n          </a>\n          <a href=\"/report\" className=\"card btn-primary btn\" style={{ justifyContent: \"center\" }}>\n            üìù Report\n          </a>\n          <a href=\"/settings\" className=\"card btn-primary btn\" style={{ justifyContent: \"center\" }}>\n            ‚öôÔ∏è Settings\n          </a>\n        </div>\n\n        {profile?.role === \"admin\" && (\n          <a href=\"/admin/analytics\" className=\"btn btn-secondary\">\n            üìä Admin Analytics\n          </a>\n        )}\n      </div>\n    </AuthGate>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AALA;;;;;AAOe,SAAS;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,2RAAQ,EAAM;IAE5C,IAAA,4RAAS,EAAC;QACR,kMAAG,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,KAAK,CAAC,KAAO;IAC5C,GAAG,EAAE;IAEL,qBACE,wTAAC,mNAAQ;kBACP,cAAA,wTAAC;YAAI,OAAO;gBAAE,WAAW;gBAAU,WAAW;YAAO;;8BACnD,wTAAC;oBAAG,OAAO;wBAAE,UAAU;wBAAQ,YAAY;oBAAI;8BAAG;;;;;;8BAClD,wTAAC;oBAAE,OAAO;wBAAE,OAAO;wBAAW,WAAW;oBAAS;8BAAG;;;;;;gBAIpD,yBACC,wTAAC;oBAAE,OAAO;wBAAE,WAAW;oBAAO;;wBAAG;sCACzB,wTAAC;sCAAQ,QAAQ,IAAI;;;;;;wBAAU;wBAAc;sCACnD,wTAAC;sCAAQ,QAAQ,iBAAiB;;;;;;;;;;;;8BAItC,wTAAC;oBACC,OAAO;wBACL,SAAS;wBACT,qBAAqB;wBACrB,KAAK;wBACL,UAAU;wBACV,QAAQ;oBACV;;sCAEA,wTAAC;4BAAE,MAAK;4BAAO,WAAU;4BAAuB,OAAO;gCAAE,gBAAgB;4BAAS;sCAAG;;;;;;sCAGrF,wTAAC;4BAAE,MAAK;4BAAU,WAAU;4BAAuB,OAAO;gCAAE,gBAAgB;4BAAS;sCAAG;;;;;;sCAGxF,wTAAC;4BAAE,MAAK;4BAAU,WAAU;4BAAuB,OAAO;gCAAE,gBAAgB;4BAAS;sCAAG;;;;;;sCAGxF,wTAAC;4BAAE,MAAK;4BAAY,WAAU;4BAAuB,OAAO;gCAAE,gBAAgB;4BAAS;sCAAG;;;;;;;;;;;;gBAK3F,SAAS,SAAS,yBACjB,wTAAC;oBAAE,MAAK;oBAAmB,WAAU;8BAAoB;;;;;;;;;;;;;;;;;AAOnE"}}]
}